{"version":3,"sources":["CartContext.js","Components/Product.js","Components/Products.js","Pages/images/home-hero.png","Pages/Home.js","Components/images/ecom.png","Components/Navigation.js","Components/images/cart.png","Pages/ProductsPage.js","Pages/images/empty-cart.png","Pages/Cart.js","Pages/ProductDetails.js","App.js","index.js"],"names":["CartContext","createContext","Product","product","useState","isAdding","setIsAdding","useContext","cart","setCart","to","_id","style","boxShadow","border","borderRadius","padding","borderColor","src","images","alt","className","name","country","price","disabled","onClick","e","event","preventDefault","_cart","items","totalItems","setTimeout","addToCart","Products","products","setProducts","useEffect","fetch","then","response","json","prod","data","list","map","Home","paddingLeft","logoHero","height","Navigation","appLogo","background","display","ProductsPage","Cart","total","cartProducts","setCartProducts","priceFetched","togglePriceFetched","getQty","productId","getSum","sum","emptyCartAndState","method","headers","body","JSON","stringify","ids","Object","keys","length","cartProduct","existingQty","decreaseQty","increaseQty","filter","qty","handleDelete","stripeKey","token","totalPrice","axios","url","status","alert","catch","error","emptyCart","ProductDetails","setProduct","params","useParams","history","useHistory","_product","goBack","stock","description","App","window","localStorage","getItem","parse","setItem","Provider","value","path","exact","component","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.25cd4aef.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const CartContext = createContext(null);","import React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../CartContext\";\r\n\r\nconst Product = ({ product }) => {\r\n\tconst boxStyle = {\r\n\t\tboxShadow: \"20px 20px 50px rgb(0, 0, 0, 0.1)\",\r\n\t\tborder: \"2px solid\",\r\n\t\tborderRadius: \"20px\",\r\n\t\tpadding: \"15%\",\r\n\t\tborderColor: \"white\",\r\n\t};\r\n\r\n\tconst [isAdding, setIsAdding] = useState(false);\r\n\tconst { cart, setCart } = useContext(CartContext);\r\n\r\n\tconst addToCart = (event, product) => {\r\n\t\tevent.preventDefault();\r\n\t\t// CART should looks like this\r\n\t\t// const cart = {\r\n\t\t//     items: {\r\n\t\t//         \"product_id\": qty\r\n\t\t//     },\r\n\t\t//     totalItems: totalQty\r\n\t\t// }\r\n\t\tlet _cart = { ...cart };\r\n\t\t// check is items property already exists if not?\r\n\t\tif (!_cart.items) {\r\n\t\t\t_cart.items = {};\r\n\t\t}\r\n\r\n\t\t// check if product already exists in cart then increase quantity\r\n\t\tif (_cart.items[product._id]) {\r\n\t\t\t_cart.items[product._id] += 1;\r\n\t\t} else {\r\n\t\t\t// if product is adding first time in cart then set it's qty to 1\r\n\t\t\t_cart.items[product._id] = 1;\r\n\t\t}\r\n\t\t// check if totalItems key exists or not\r\n\t\t// to prevent undefined and NaN\r\n\t\tif (!_cart.totalItems) {\r\n\t\t\t_cart.totalItems = 0;\r\n\t\t}\r\n\t\t// update qty of totalItem by 1\r\n\t\t_cart.totalItems += 1;\r\n\t\tsetCart(_cart);\r\n\t\tsetIsAdding(true);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetIsAdding(false);\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Link to={`products/${product._id}`}>\r\n\t\t\t<div style={boxStyle}>\r\n\t\t\t\t<img src={product?.images[0]} alt=\"test\" />\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<h2 className=\"text-lg font-bold py-2\">{product.name}</h2>\r\n\t\t\t\t\t<span className=\"bg-gray-200 py-1 rounded-full text-sm px-4\">\r\n\t\t\t\t\t\t{product.country}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex justify-between items-center mt-4\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t{/* â‚¹ */}$ {product.price}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={isAdding}\r\n\t\t\t\t\t\tclassName={`${\r\n\t\t\t\t\t\t\tisAdding\r\n\t\t\t\t\t\t\t\t? \"py-1 px-4 rounded-full font-bold bg-green-300 focus:outline-none\"\r\n\t\t\t\t\t\t\t\t: \"py-1 px-4 rounded-full font-bold bg-yellow-400 focus:outline-none\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={(e) => addToCart(e, product)}>\r\n\t\t\t\t\t\tAdd{isAdding ? \"ed\" : \"\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Product from \"../Components/Product\";\r\n\r\nconst Products = () => {\r\n\tconst [products, setProducts] = useState([]);\r\n\t// const { name} = useContext(CartContext);\r\n\tuseEffect(() => {\r\n\t\tfetch(\"http://18.117.89.140:3300/api/productList\")\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((prod) => {\r\n\t\t\t\t// products.data.list = array\r\n\t\t\t\tsetProducts(prod.data.list);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"container mx-auto pb-24 pl-4 lg:pl-16 md:pl-8 sm:pl-4\">\r\n\t\t\t<h1 className=\"text-lg font-bold my-8\">Products</h1>\r\n\t\t\t<div className=\"grid grid-cols-1 my-8 gap-24 md:grid-cols-3 lg:grid-cols-4 sm:grid-cols-2\">\r\n\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t<Product key={product._id} product={product} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Products;\r\n","export default __webpack_public_path__ + \"static/media/home-hero.0c41cb88.png\";","import React from \"react\";\r\nimport Products from \"../Components/Products\";\r\nimport logoHero from \"./images/home-hero.png\";\r\nconst Home = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"hero py-16\">\r\n\t\t\t\t<div className=\"container mx-auto flex items-center justify-between\">\r\n\t\t\t\t\t<div className=\"w-1/2\" style={{ paddingLeft: \"10%\" }}>\r\n\t\t\t\t\t\t<h6 className=\"text-lg\">\r\n\t\t\t\t\t\t\t<em>Ab Har Wish Hogi Poori</em>\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t<h1 className=\"text-3xl md:text-6xl items-center font-bold\">\r\n\t\t\t\t\t\t\tShop With Us\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<button className=\"px-6 py-2 rounded-full text-white font-bold bg-yellow-500 mt-4 hover:bg-yellow-600\">\r\n\t\t\t\t\t\t\tOrder Now\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"w-1/2\" style={{ paddingLeft: \"10%\" }}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"hidden md:block sm:block\"\r\n\t\t\t\t\t\t\tsrc={logoHero}\r\n\t\t\t\t\t\t\talt=\"logo-hero\"\r\n\t\t\t\t\t\t\tstyle={{ height: \"500px\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"pb-24\">\r\n\t\t\t\t<Products />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/ecom.457bea4f.png\";","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../CartContext\";\r\nimport appLogo from \"./images/ecom.png\";\r\nimport cartImage from \"./images/cart.png\";\r\n\r\nconst Navigation = () => {\r\n\tconst cartStyle = {\r\n\t\tbackground: \"#fbbd18\",\r\n\t\tdisplay: \"flex\",\r\n\t\tpadding: \"6px 12px\",\r\n\t\tborderRadius: \"50px\",\r\n\t};\r\n\tconst { cart } = useContext(CartContext);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<nav className=\"container mx-auto flex items-center justify-between py-2\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<img style={{ height: \"45px\" }} src={appLogo} alt=\"logo\" />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<ul className=\"flex items-center\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"ml-6\">\r\n\t\t\t\t\t\t<Link to=\"/products\">Products</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"ml-6\">\r\n\t\t\t\t\t\t<Link to=\"/cart\">\r\n\t\t\t\t\t\t\t<div style={cartStyle}>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{cart\r\n\t\t\t\t\t\t\t\t\t\t? cart.totalItems\r\n\t\t\t\t\t\t\t\t\t\t\t? cart.totalItems\r\n\t\t\t\t\t\t\t\t\t\t\t: 0\r\n\t\t\t\t\t\t\t\t\t\t: 0}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-1\"\r\n\t\t\t\t\t\t\t\t\tsrc={cartImage}\r\n\t\t\t\t\t\t\t\t\talt=\"cart\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ height: \"30px\" }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Navigation;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFzSURBVHgBvVSBUcMwDJSzAGECsgEZwRvABmQD2CBsQJkANqAbNBu0nSBlAtjASI3cU4ytxL20f6eLYtnRSy/HAMM5V3nfGHOApYEJejfGD1oLS4EqcGlYWAAFt+YdrWOTeIRLgNiLStZwKbAmR20iBJqIX6M9B3tp7ZXkKBJ5dvwscdOdWK/RHiK+ZZP4QGv5Ga1kJVrWQCbwTCnOb6cq8YzBl87+y4Rfi/PfqSSd8O+JGQytqdh/0nwYty49PFJ8/sBs4P4v0a5K27gJLyVPTKP5/N57Pei9UAjthe97bGE8Uf98Zl7x+g40EDNRyQZmIjh3/GMYZTOx34olEnA/keMGrUHzGt7ib+sXlCRy1s/BiWBSE2ag91TH6azRdrGI1NesEUYQwU+1VUrSUrszTrsTMxO0ot9v4cdJA471PDTZCWJDYEV8FcRGI1/MzFNmxnM1HODGv5k+iNmgkkbGDWTADTeYWK7DyWHRLdoBYx1cG3891gjItGU6pwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport Products from \"../Components/Products\";\r\n\r\nconst ProductsPage = () => {\r\n    return (\r\n        <div>\r\n            <Products />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsPage;\r\n","export default __webpack_public_path__ + \"static/media/empty-cart.621445dd.png\";","import React, { useContext, useEffect, useState } from \"react\";\r\n// import CartItem from \"../Components/CartItem\";\r\nimport { CartContext } from \"../CartContext\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport axios from \"axios\";\r\nimport emptyCart from \"./images/empty-cart.png\";\r\n\r\nconst Cart = () => {\r\n\tlet total = 0;\r\n\tconst [cartProducts, setCartProducts] = useState([]);\r\n\tconst { cart, setCart } = useContext(CartContext);\r\n\tconst [priceFetched, togglePriceFetched] = useState(false);\r\n\tconst getQty = (productId) => {\r\n\t\treturn cart.items[productId];\r\n\t};\r\n\tconst increaseQty = (productId) => {\r\n\t\tconst existingQty = cart.items[productId];\r\n\t\tconst _cart = { ...cart };\r\n\t\t_cart.items[productId] = existingQty + 1;\r\n\t\t_cart.totalItems += 1;\r\n\t\tsetCart(_cart);\r\n\t};\r\n\r\n\tconst decreaseQty = (productId) => {\r\n\t\tconst existingQty = cart.items[productId];\r\n\t\tif (existingQty === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst _cart = { ...cart };\r\n\t\t_cart.items[productId] = existingQty - 1;\r\n\t\t_cart.totalItems -= 1;\r\n\t\tsetCart(_cart);\r\n\t};\r\n\tconst getSum = (productId, price) => {\r\n\t\tconst sum = price * getQty(productId);\r\n\t\ttotal += sum;\r\n\t\treturn sum;\r\n\t};\r\n\tconst handleDelete = (productId) => {\r\n\t\tsetCartProducts(\r\n\t\t\tcartProducts.filter((product) => product._id !== productId),\r\n\t\t);\r\n\t\tconst _cart = { ...cart };\r\n\t\tconst qty = _cart.items[productId];\r\n\t\tdelete _cart.items[productId];\r\n\t\t_cart.totalItems -= qty;\r\n\t\tsetCart(_cart);\r\n\t};\r\n\tconst makePayment = (token) => {\r\n\t\tconst headers = {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t};\r\n\t\tconst body = {\r\n\t\t\ttoken,\r\n\t\t\tcartProducts,\r\n\t\t\ttotalPrice: total,\r\n\t\t};\r\n\t\taxios({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"http://18.117.89.140:3300/api/payment\",\r\n\t\t\t// url: \"http://192.168.145.194:3300/api/payment\",\r\n\t\t\theaders,\r\n\t\t\tdata: body,\r\n\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst { status } = response;\r\n\t\t\t\tif (status === 200) {\r\n\t\t\t\t\talert(\"Payment Successs\");\r\n\t\t\t\t\temptyCartAndState();\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Something Went Wrong!\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(\"Something Went Wrong!\");\r\n\t\t\t});\r\n\t};\r\n\tconst emptyCartAndState = () => {\r\n\t\tsetCartProducts([]);\r\n\t\tsetCart([]);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (!cart || !cart.items) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (priceFetched) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfetch(`http://18.117.89.140:3300/api/products/cart-items`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tids: Object.keys(cart.items),\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((products) => {\r\n\t\t\t\tsetCartProducts(products.data.list);\r\n\t\t\t\ttogglePriceFetched(true);\r\n\t\t\t});\r\n\t}, [cart, priceFetched]);\r\n\treturn !cartProducts.length ? (\r\n\t\t<img className=\"mx-auto w-1/2 mt-12\" src={emptyCart} alt=\"Empty Cart\" />\r\n\t) : (\r\n\t\t<div className=\"container mx-auto lg:w-1/2 w-full pb-24\">\r\n\t\t\t<h1 className=\"my-12 font-bold\">Cart Items</h1>\r\n\t\t\t<ul>\r\n\t\t\t\t{cartProducts.map((cartProduct) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li className=\"mb-12\" key={cartProduct._id}>\r\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-16\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={cartProduct.images[0]}\r\n\t\t\t\t\t\t\t\t\t\talt=\"product\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-bold ml-4 w-48\">\r\n\t\t\t\t\t\t\t\t\t\t{cartProduct.name}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tdecreaseQty(cartProduct._id)\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<b className=\"px-4\">\r\n\t\t\t\t\t\t\t\t\t\t{getQty(cartProduct._id)}\r\n\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tincreaseQty(cartProduct._id)\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t${\" \"}\r\n\t\t\t\t\t\t\t\t\t{getSum(cartProduct._id, cartProduct.price)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\thandleDelete(cartProduct._id)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName=\"bg-red-500 px-4 py-2 rounded-full leading-none text-white focus:outline-none\">\r\n\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t{/* // <img className=\"mx-auto w-1/2 mt-12\" src=\"../images/empty-cart.png\" alt=\"Empty Cart\" /> */}\r\n\t\t\t</ul>\r\n\t\t\t<hr className=\"my-6\" />\r\n\t\t\t<div className=\"text-right\">\r\n\t\t\t\t<b>Grand Total :</b> $ {total}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"text-right mt-6\">\r\n\t\t\t\t<StripeCheckout\r\n\t\t\t\t\tstripeKey={`pk_test_nutR0mXwmJvpwIckqAxp463q00KEHEbltr`}\r\n\t\t\t\t\ttoken={makePayment}\r\n\t\t\t\t\tname={`Purchase of Products from HarryStore`}\r\n\t\t\t\t\tprice={total * 100}>\r\n\t\t\t\t\t<button className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none\">\r\n\t\t\t\t\t\tOrder Now\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</StripeCheckout>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { CartContext } from \"../CartContext\";\r\nconst ProductDetails = () => {\r\n\tconst [product, setProduct] = useState({});\r\n\tconst params = useParams();\r\n\tconst history = useHistory();\r\n\tconst [isAdding, setIsAdding] = useState(false);\r\n\tconst { cart, setCart } = useContext(CartContext);\r\n\tconst addToCart = (event, product) => {\r\n\t\tevent.preventDefault();\r\n\t\t// CART should looks like this\r\n\t\t// const cart = {\r\n\t\t//     items: {\r\n\t\t//         \"product_id\": qty\r\n\t\t//     },\r\n\t\t//     totalItems: totalQty\r\n\t\t// }\r\n\t\tlet _cart = { ...cart };\r\n\t\t// check is items property already exists if not?\r\n\t\tif (!_cart.items) {\r\n\t\t\t_cart.items = {};\r\n\t\t}\r\n\r\n\t\t// check if product already exists in cart then increase quantity\r\n\t\tif (_cart.items[product._id]) {\r\n\t\t\t_cart.items[product._id] += 1;\r\n\t\t} else {\r\n\t\t\t// if product is adding first time in cart then set it's qty to 1\r\n\t\t\t_cart.items[product._id] = 1;\r\n\t\t}\r\n\t\t// check if totalItems key exists or not\r\n\t\t// to prevent undefined and NaN\r\n\t\tif (!_cart.totalItems) {\r\n\t\t\t_cart.totalItems = 0;\r\n\t\t}\r\n\t\t// update qty of totalItem by 1\r\n\t\t_cart.totalItems += 1;\r\n\t\tsetCart(_cart);\r\n\t\tsetIsAdding(true);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetIsAdding(false);\r\n\t\t}, 1000);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tfetch(`http://18.117.89.140:3300/api/product/${params._id}`)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((_product) => {\r\n\t\t\t\tsetProduct(_product.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(\"Something Went Wrong!!!\");\r\n\t\t\t});\r\n\t}, [params._id]);\r\n\treturn (\r\n\t\t<div className=\"conatiner mx-auto mt-12 pl-16\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"mb-12 font-bold focus:outline-none\"\r\n\t\t\t\tonClick={() => history.goBack()}>\r\n\t\t\t\tBack\r\n\t\t\t</button>\r\n\t\t\t<div className=\"flex\">\r\n\t\t\t\t<img src={product.images} height=\"100px\" alt=\"productImage\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1 className=\"text-xl font-bold\">{product.name}</h1>\r\n\t\t\t\t\t{/* <div className=\"bg-gray-200 w-24 p-1 rounded-full px-4 text-md\">Country</div> */}\r\n\t\t\t\t\t<div className=\"font-bold mt-2\">$ {product.price}</div>\r\n\t\t\t\t\t<div className=\"mt-2\">\r\n\t\t\t\t\t\t<em>{product.stock} quantity left</em>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"mt-2\">{product.description}</div>\r\n\t\t\t\t\t{/* <button className=\"py-1 px-4 rounded-full font-bold bg-yellow-400 mt-4\">Add to cart</button> */}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`${\r\n\t\t\t\t\t\t\tisAdding\r\n\t\t\t\t\t\t\t\t? \"py-1 px-4 rounded-full font-bold bg-green-300 focus:outline-none\"\r\n\t\t\t\t\t\t\t\t: \"py-1 px-4 rounded-full font-bold bg-yellow-400 focus:outline-none\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={(e) => addToCart(e, product)}>\r\n\t\t\t\t\t\tAdd{isAdding ? \"ed\" : \"\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductDetails;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./Pages/Home\";\r\nimport Navigation from \"./Components/Navigation\";\r\nimport ProductsPage from \"./Pages/ProductsPage\";\r\nimport Cart from \"./Pages/Cart\";\r\nimport { CartContext } from \"./CartContext.js\";\r\nimport ProductDetails from \"./Pages/ProductDetails\";\r\nconst App = () => {\r\n\tconst [cart, setCart] = useState({});\r\n\t// fetch from localstorage first\r\n\tuseEffect(() => {\r\n\t\tconst cart = window.localStorage.getItem(\"cart\");\r\n\t\tsetCart(JSON.parse(cart));\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\t}, [cart]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CartContext.Provider value={{ cart, setCart }}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Navigation />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path=\"/\" exact component={Home}></Route>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath=\"/products\"\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tcomponent={ProductsPage}></Route>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath=\"/products/:_id\"\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tcomponent={ProductDetails}></Route>\r\n\t\t\t\t\t\t<Route path=\"/cart\" exact component={Cart}></Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t</CartContext.Provider>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDom.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}