(this["webpackJsonpe-commerce-frontend"]=this["webpackJsonpe-commerce-frontend"]||[]).push([[0],{62:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(25),i=c.n(s),a=c(8),l=c(9),r=c(2),o=c(10),d=Object(n.createContext)(null),j=c(0),b=function(e){var t=e.product,c=Object(n.useState)(!1),s=Object(a.a)(c,2),i=s[0],r=s[1],b=Object(n.useContext)(d),m=b.cart,u=b.setCart;return Object(j.jsx)(l.b,{to:"products/".concat(t._id),children:Object(j.jsxs)("div",{style:{boxShadow:"20px 20px 50px rgb(0, 0, 0, 0.1)",border:"2px solid",borderRadius:"20px",padding:"15%",borderColor:"white"},children:[Object(j.jsx)("img",{src:null===t||void 0===t?void 0:t.images[0],alt:"test"}),Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h2",{className:"text-lg font-bold py-2",children:t.name}),Object(j.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4",children:t.country})]}),Object(j.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[Object(j.jsxs)("span",{children:[" ","$ ",t.price]}),Object(j.jsxs)("button",{disabled:i,className:"".concat(i?"py-1 px-4 rounded-full font-bold bg-green-300 focus:outline-none":"py-1 px-4 rounded-full font-bold bg-yellow-400 focus:outline-none"),onClick:function(e){return function(e,t){e.preventDefault();var c=Object(o.a)({},m);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,u(c),r(!0),setTimeout((function(){r(!1)}),1e3)}(e,t)},children:["Add",i?"ed":""]})]})]})})},m=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("http://18.117.89.140:3300/api/productList").then((function(e){return e.json()})).then((function(e){s(e.data.list)}))}),[]),Object(j.jsxs)("div",{className:"container mx-auto pb-24 pl-4 lg:pl-16 md:pl-8 sm:pl-4",children:[Object(j.jsx)("h1",{className:"text-lg font-bold my-8",children:"Products"}),Object(j.jsx)("div",{className:"grid grid-cols-1 my-8 gap-24 md:grid-cols-3 lg:grid-cols-4 sm:grid-cols-2",children:c.map((function(e){return Object(j.jsx)(b,{product:e},e._id)}))})]})},u=c.p+"static/media/home-hero.0c41cb88.png",x=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"hero py-16",children:Object(j.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"w-1/2",style:{paddingLeft:"10%"},children:[Object(j.jsx)("h6",{className:"text-lg",children:Object(j.jsx)("em",{children:"Ab Har Wish Hogi Poori"})}),Object(j.jsx)("h1",{className:"text-3xl md:text-6xl items-center font-bold",children:"Shop With Us"}),Object(j.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-bold bg-yellow-500 mt-4 hover:bg-yellow-600",children:"Order Now"})]}),Object(j.jsx)("div",{className:"w-1/2",style:{paddingLeft:"10%"},children:Object(j.jsx)("img",{className:"hidden md:block sm:block",src:u,alt:"logo-hero",style:{height:"500px"}})})]})}),Object(j.jsx)("div",{className:"pb-24",children:Object(j.jsx)(m,{})})]})},h=c.p+"static/media/ecom.457bea4f.png",O=function(){var e=Object(n.useContext)(d).cart;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"container mx-auto flex items-center justify-between py-2",children:[Object(j.jsx)(l.b,{to:"/",children:Object(j.jsx)("img",{style:{height:"45px"},src:h,alt:"logo"})}),Object(j.jsxs)("ul",{className:"flex items-center",children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{className:"ml-6",children:Object(j.jsx)(l.b,{to:"/products",children:"Products"})}),Object(j.jsx)("li",{className:"ml-6",children:Object(j.jsx)(l.b,{to:"/cart",children:Object(j.jsxs)("div",{style:{background:"#fbbd18",display:"flex",padding:"6px 12px",borderRadius:"50px"},children:[Object(j.jsx)("span",{children:e&&e.totalItems?e.totalItems:0}),Object(j.jsx)("img",{className:"ml-1",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFzSURBVHgBvVSBUcMwDJSzAGECsgEZwRvABmQD2CBsQJkANqAbNBu0nSBlAtjASI3cU4ytxL20f6eLYtnRSy/HAMM5V3nfGHOApYEJejfGD1oLS4EqcGlYWAAFt+YdrWOTeIRLgNiLStZwKbAmR20iBJqIX6M9B3tp7ZXkKBJ5dvwscdOdWK/RHiK+ZZP4QGv5Ga1kJVrWQCbwTCnOb6cq8YzBl87+y4Rfi/PfqSSd8O+JGQytqdh/0nwYty49PFJ8/sBs4P4v0a5K27gJLyVPTKP5/N57Pei9UAjthe97bGE8Uf98Zl7x+g40EDNRyQZmIjh3/GMYZTOx34olEnA/keMGrUHzGt7ib+sXlCRy1s/BiWBSE2ag91TH6azRdrGI1NesEUYQwU+1VUrSUrszTrsTMxO0ot9v4cdJA471PDTZCWJDYEV8FcRGI1/MzFNmxnM1HODGv5k+iNmgkkbGDWTADTeYWK7DyWHRLdoBYx1cG3891gjItGU6pwAAAABJRU5ErkJggg==",alt:"cart",style:{height:"30px"}})]})})})]})]})})},f=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(m,{})})},p=c(28),g=c.n(p),A=c(29),y=c.n(A),N=c.p+"static/media/empty-cart.621445dd.png",v=function(){var e=0,t=Object(n.useState)([]),c=Object(a.a)(t,2),s=c[0],i=c[1],l=Object(n.useContext)(d),r=l.cart,b=l.setCart,m=Object(n.useState)(!1),u=Object(a.a)(m,2),x=u[0],h=u[1],O=function(e){return r.items[e]},f=function(t,c){var n=c*O(t);return e+=n,n},p=function(){i([]),b([])};return Object(n.useEffect)((function(){r&&r.items&&(x||fetch("http://18.117.89.140:3300/api/products/cart-items",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({ids:Object.keys(r.items)})}).then((function(e){return e.json()})).then((function(e){i(e.data.list),h(!0)})))}),[r,x]),s.length?Object(j.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24",children:[Object(j.jsx)("h1",{className:"my-12 font-bold",children:"Cart Items"}),Object(j.jsx)("ul",{children:s.map((function(e){return Object(j.jsx)("li",{className:"mb-12",children:Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("img",{className:"h-16",src:e.images[0],alt:"product"}),Object(j.jsx)("span",{className:"font-bold ml-4 w-48",children:e.name})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none",onClick:function(){return function(e){var t=r.items[e];if(1!==t){var c=Object(o.a)({},r);c.items[e]=t-1,c.totalItems-=1,b(c)}}(e._id)},children:"-"}),Object(j.jsx)("b",{className:"px-4",children:O(e._id)}),Object(j.jsx)("button",{className:"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none",onClick:function(){return function(e){var t=r.items[e],c=Object(o.a)({},r);c.items[e]=t+1,c.totalItems+=1,b(c)}(e._id)},children:"+"})]}),Object(j.jsxs)("span",{children:["$"," ",f(e._id,e.price)]}),Object(j.jsx)("button",{onClick:function(){return function(e){i(s.filter((function(t){return t._id!==e})));var t=Object(o.a)({},r),c=t.items[e];delete t.items[e],t.totalItems-=c,b(t)}(e._id)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white focus:outline-none",children:"Delete"})]})},e._id)}))}),Object(j.jsx)("hr",{className:"my-6"}),Object(j.jsxs)("div",{className:"text-right",children:[Object(j.jsx)("b",{children:"Grand Total :"})," $ ",e]}),Object(j.jsx)("div",{className:"text-right mt-6",children:Object(j.jsx)(g.a,{stripeKey:"pk_test_nutR0mXwmJvpwIckqAxp463q00KEHEbltr",token:function(t){var c={token:t,cartProducts:s,totalPrice:e};y()({method:"POST",url:"http://18.117.89.140:3300/api/payment",headers:{"Content-Type":"application/json"},data:c}).then((function(e){200===e.status?(alert("Payment Successs"),p()):alert("Something Went Wrong!")})).catch((function(e){alert("Something Went Wrong!")}))},name:"Purchase of Products from HarryStore",price:100*e,children:Object(j.jsx)("button",{className:"bg-yellow-500 px-4 py-2 rounded-full leading-none focus:outline-none",children:"Order Now"})})})]}):Object(j.jsx)("img",{className:"mx-auto w-1/2 mt-12",src:N,alt:"Empty Cart"})},w=function(){var e=Object(n.useState)({}),t=Object(a.a)(e,2),c=t[0],s=t[1],i=Object(r.g)(),l=Object(r.f)(),b=Object(n.useState)(!1),m=Object(a.a)(b,2),u=m[0],x=m[1],h=Object(n.useContext)(d),O=h.cart,f=h.setCart;return Object(n.useEffect)((function(){fetch("http://18.117.89.140:3300/api/product/".concat(i._id)).then((function(e){return e.json()})).then((function(e){s(e.data)})).catch((function(e){alert("Something Went Wrong!!!")}))}),[i._id]),Object(j.jsxs)("div",{className:"conatiner mx-auto mt-12 pl-16",children:[Object(j.jsx)("button",{className:"mb-12 font-bold focus:outline-none",onClick:function(){return l.goBack()},children:"Back"}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("img",{src:c.images,height:"100px",alt:"productImage"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"text-xl font-bold",children:c.name}),Object(j.jsxs)("div",{className:"font-bold mt-2",children:["$ ",c.price]}),Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsxs)("em",{children:[c.stock," quantity left"]})}),Object(j.jsx)("div",{className:"mt-2",children:c.description}),Object(j.jsxs)("button",{className:"".concat(u?"py-1 px-4 rounded-full font-bold bg-green-300 focus:outline-none":"py-1 px-4 rounded-full font-bold bg-yellow-400 focus:outline-none"),onClick:function(e){return function(e,t){e.preventDefault();var c=Object(o.a)({},O);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,f(c),x(!0),setTimeout((function(){x(!1)}),1e3)}(e,c)},children:["Add",u?"ed":""]})]})]})]})},S=function(){var e=Object(n.useState)({}),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=window.localStorage.getItem("cart");s(JSON.parse(e))}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("cart",JSON.stringify(c))}),[c]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.Provider,{value:{cart:c,setCart:s},children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)(O,{}),Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{path:"/",exact:!0,component:x}),Object(j.jsx)(r.a,{path:"/products",exact:!0,component:f}),Object(j.jsx)(r.a,{path:"/products/:_id",exact:!0,component:w}),Object(j.jsx)(r.a,{path:"/cart",exact:!0,component:v})]})]})})})};i.a.render(Object(j.jsx)(S,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.25cd4aef.chunk.js.map